<template>
  <div class="home-container">
    <div class="animation-demo">
      <h1>CSS åŠ¨ç”»æ¼”ç¤º</h1>
      <div class="preview-area">
        <div ref="animatedElement" :class="animationClass" class="animated-box">
          <div class="box-content">
            <span>{{ currentAnimationName }}</span>
            <div style="margin-top: 10px; font-size: 12px; opacity: 0.7">
              {{ animationClass || 'æ— åŠ¨ç”»' }}
            </div>
          </div>
        </div>
      </div>
      <div class="info">
        <p>
          å½“å‰åŠ¨ç”»:
          <strong>{{ currentAnimationName }}</strong>
        </p>
        <p>
          ä½¿ç”¨æ–¹æ³•:
          <code class="code">{{ usageExample }}</code>
        </p>
      </div>
      <div class="controls">
        <select v-model="selectedAnimation" class="animation-select" @change="triggerAnimation">
          <option value="">-- é€‰æ‹©åŠ¨ç”» --</option>
          <optgroup label="V1 åŸºç¡€åŠ¨ç”»">
            <option value="ua-v1-fadeIn">ğŸŒ« æ·¡å…¥</option>
            <option value="ua-v1-fadeOut">ğŸŒ« æ·¡å‡º</option>
            <option value="ua-v1-fadeInDown">â¬‡ï¸ ä»ä¸Šæ·¡å…¥</option>
            <option value="ua-v1-fadeOutDown">â¬‡ï¸ å‘ä¸‹æ·¡å‡º</option>
            <option value="ua-v1-fadeInUp">â¬†ï¸ ä»ä¸‹æ·¡å…¥</option>
            <option value="ua-v1-fadeOutUp">â¬†ï¸ å‘ä¸Šæ·¡å‡º</option>
            <option value="ua-v1-fadeInLeft">â¬…ï¸ ä»å·¦æ·¡å…¥</option>
            <option value="ua-v1-fadeOutLeft">â¬…ï¸ å‘å·¦æ·¡å‡º</option>
            <option value="ua-v1-fadeInRight">â¡ï¸ ä»å³æ·¡å…¥</option>
            <option value="ua-v1-fadeOutRight">â¡ï¸ å‘å³æ·¡å‡º</option>
            <option value="ua-v1-zoomIn">ğŸ” ç¼©æ”¾è¿›å…¥</option>
            <option value="ua-v1-zoomOut">ğŸ” ç¼©æ”¾é€€å‡º</option>
            <option value="ua-v1-rotateIn">ğŸ”„ æ—‹è½¬è¿›å…¥</option>
            <option value="ua-v1-rotateOut">ğŸ”„ æ—‹è½¬é€€å‡º</option>
            <option value="ua-v1-bounceIn">â¬†ï¸ å¼¹è·³è¿›å…¥</option>
            <option value="ua-v1-bounceOut">â¬‡ï¸ å¼¹è·³é€€å‡º</option>
            <option value="ua-v1-flash">âœ¨ é—ªçƒ</option>
            <option value="ua-v1-shake">â†”ï¸ æ‘‡æ™ƒ</option>
            <option value="ua-v1-pulse">ğŸ’“ è„‰å†²</option>
          </optgroup>

          <optgroup label="V2 è¶…çº§åŠ¨ç”»">
            <option value="ua-v2-hologram">ğŸ”® å…¨æ¯æŠ•å½±</option>
            <option value="ua-v2-vortexIn">ğŸŒ€ æ¶¡æµå¸å…¥</option>
            <option value="ua-v2-sineWave">ğŸŒŠ æ­£å¼¦æ³¢æµª</option>
            <option value="ua-v2-origami">ğŸ­ æŠ˜çº¸æ•ˆæœ</option>
            <option value="ua-v2-orbitIn">ğŸ’« æ˜Ÿè½¨æ—‹è½¬</option>
            <option value="ua-v2-kaleidoscope">ğŸ”® ä¸‡èŠ±ç­’</option>
            <option value="ua-v2-nebulaExplosion">ğŸŒŒ æ˜Ÿäº‘çˆ†å‘</option>
            <option value="ua-v2-transformer">ğŸ¤– å˜å½¢é‡‘åˆš</option>
            <option value="ua-v2-tidalWave">ğŸŒŠ æ½®æ±æ•ˆæœ</option>
            <option value="ua-v2-magicTransform">ğŸ”® é­”æœ¯å˜æ¢</option>
            <option value="ua-v2-dnaHelix">ğŸ§¬ DNAåŒèºæ—‹</option>
            <option value="ua-v2-quantumLeap">âš¡ é‡å­è·ƒè¿</option>
            <option value="ua-v2-flameBurst">ğŸ”¥ ç«ç„°å–·å°„</option>
            <option value="ua-v2-aurora">ğŸŒŒ æå…‰æ•ˆæœ</option>
            <option value="ua-v2-blackHole">ğŸ•³ï¸ é»‘æ´å¸å…¥</option>
          </optgroup>

          <optgroup label="V3 è¶…ç°å®åŠ¨ç”»">
            <option value="ua-v3-wormhole">ğŸŒ€ è™«æ´ç©¿è¶Š</option>
            <option value="ua-v3-hologramPro">ğŸ”® ä¸“ä¸šå…¨æ¯</option>
            <option value="ua-v3-quantumEntanglement">âš›ï¸ é‡å­çº ç¼ </option>
            <option value="ua-v3-neuralNetwork">ğŸ§  ç¥ç»ç½‘ç»œ</option>
            <option value="ua-v3-metaverse">ğŸŒ å…ƒå®‡å®™</option>
            <option value="ua-v3-vrImmersive">ğŸ¥½ VRæ²‰æµ¸</option>
            <option value="ua-v3-warpDrive">ğŸš€ æ›²é€Ÿå¼•æ“</option>
            <option value="ua-v3-cyberpunk">ğŸ¤– èµ›åšæœ‹å…‹</option>
            <option value="ua-v3-galaxyVortex">ğŸŒŒ é“¶æ²³æ¼©æ¶¡</option>
            <option value="ua-v3-nftReveal">ğŸ¨ NFTæ­ç¤º</option>
            <option value="ua-v3-astralProjection">ğŸ‘» çµé­‚å‡ºçª</option>
            <option value="ua-v3-timeTravel">â° æ—¶é—´å›æº¯</option>
            <option value="ua-v3-crystalBall">ğŸ”® æ°´æ™¶çƒ</option>
            <option value="ua-v3-bigBang">ğŸ’¥ å®‡å®™å¤§çˆ†ç‚¸</option>
          </optgroup>

          <optgroup label="V4 åˆ›æ„äº’åŠ¨åŠ¨ç”»">
            <option value="ua-v4-magnetPull">ğŸ¯ ç£å¸è¿›å…¥</option>
            <option value="ua-v4-floatIn">ğŸ’« æ‚¬æµ®è¿›å…¥</option>
            <option value="ua-v4-waveIn">ğŸŒŠ æ³¢æµªè¿›å…¥</option>
            <option value="ua-v4-elasticPop">ğŸª å¼¹æ€§å¼¹å‡º</option>
            <option value="ua-v4-focusIn">ğŸ” èšç„¦è¿›å…¥</option>
            <option value="ua-v4-drawIn">ğŸ¨ ç»˜åˆ¶è¿›å…¥</option>
            <option value="ua-v4-rotateIn">ğŸŒ€ æ—‹è½¬è¿›å…¥</option>
            <option value="ua-v4-prismIn">ğŸ’ æ£±é•œæŠ˜å°„</option>
            <option value="ua-v4-scalePulse">ğŸ¯ ç¼©æ”¾è„‰å†²</option>
            <option value="ua-v4-gradientFadeIn">ğŸŒ… æ¸å˜æ˜¾éš</option>
            <option value="ua-v4-linkIn">ğŸ”— é“¾æ¥è¿›å…¥</option>
            <option value="ua-v4-flipIn">ğŸª ç¿»è½¬è¿›å…¥</option>
            <option value="ua-v4-driftOut">ğŸ’« é£˜æ•£é€€å‡º</option>
            <option value="ua-v4-shrinkOut">ğŸ¨ æ”¶ç¼©é€€å‡º</option>
            <option value="ua-v4-spiralOut">ğŸŒ€ æ—‹å‡ºé€€å‡º</option>
            <option value="ua-v4-explodeOut">ğŸ’¥ çˆ†ç‚¸é€€å‡º</option>
            <option value="ua-v4-disintegrateOut">ğŸ“¦ è§£ä½“é€€å‡º</option>
          </optgroup>

          <optgroup label="V5 æé™çªç ´åŠ¨ç”»">
            <option value="ua-v5-extremeVortex">ğŸŒ€ æé™æ¼©æ¶¡</option>
            <option value="ua-v5-morphingKaleidoscope">ğŸŒˆ å˜å½¢ä¸‡èŠ±ç­’</option>
            <option value="ua-v5-auroraPhantom">ğŸŒŒ æå…‰å¹»å½±</option>
            <option value="ua-v5-glassShatter">ğŸ’ ç»ç’ƒç ´ç¢</option>
            <option value="ua-v5-dimensionTransit">ğŸŒ€ ç»´åº¦ç©¿è¶Š</option>
            <option value="ua-v5-liquidMorph">ğŸ’§ æ¶²æ€å˜å½¢</option>
            <option value="ua-v5-particleReassemble">âœ¨ ç²’å­é‡ç»„</option>
            <option value="ua-v5-spiralTime">ğŸŒ€ æ—¶é—´èºæ—‹</option>
            <option value="ua-v5-pixelCollapse">ğŸ‘¾ åƒç´ åå¡Œ</option>
            <option value="ua-v5-interstellar">ğŸŒŒ æ˜Ÿé™…ç©¿è¶Š</option>
          </optgroup>

          <optgroup label="V6 ä¼ å¥‡åŠ¨ç”»">
            <option value="ua-v6-lightShadow">ğŸŒŸ å…‰å½±ç©¿æ¢­</option>
            <option value="ua-v6-spaceFold">ğŸ­ ç©ºé—´æŠ˜å </option>
            <option value="ua-v6-crystalFission">ğŸ’ æ™¶ä½“è£‚å˜</option>
            <option value="ua-v6-electromagneticStorm">âš¡ ç”µç£é£æš´</option>
            <option value="ua-v6-quantumRipples">ğŸŒŠ é‡å­æ¶Ÿæ¼ª</option>
            <option value="ua-v6-dimensionGate">ğŸ”® ç»´åº¦ä¹‹é—¨</option>
            <option value="ua-v6-auroraSpectrum">ğŸŒˆ æå…‰å…‰è°±</option>
            <option value="ua-v6-stardustAssembly">ğŸ’« æ˜Ÿå°˜èšåˆ</option>
            <option value="ua-v6-rainbowFission">ğŸŒˆ å½©è™¹è£‚å˜</option>
            <option value="ua-v6-lightningPulse">âš¡ é—ªç”µè„‰å†²</option>
            <option value="ua-v6-singularityExplosion">ğŸ”® å¥‡ç‚¹çˆ†ç‚¸</option>
            <option value="ua-v6-deepSpace">ğŸŒŒ æ·±ç©ºç©¿æ¢­</option>
          </optgroup>

          <optgroup label="V7 ç»ˆæåŠ¨ç”»">
            <option value="ua-v7-liquidIn">ğŸŒŠ æ¶²æ€è¿›å…¥</option>
            <option value="ua-v7-liquidOut">ğŸŒŠ æ¶²æ€æµå‡º</option>
            <option value="ua-v7-crystalIn">ğŸ’ æ™¶ä½“è¿›å…¥</option>
            <option value="ua-v7-crystalOut">ğŸ’ æ™¶ä½“æ¶ˆæ•£</option>
            <option value="ua-v7-vortexIn">ğŸŒ€ æ¶¡æµè¿›å…¥</option>
            <option value="ua-v7-vortexOut">ğŸŒ€ æ¶¡æµå–·å‘</option>
            <option value="ua-v7-rayIn">ğŸŒŸ å…‰èŠ’è¿›å…¥</option>
            <option value="ua-v7-rayOut">ğŸŒŸ å…‰èŠ’æ”¶æŸ</option>
            <option value="ua-v7-fractalIn">ğŸ­ åˆ†å½¢è¿›å…¥</option>
            <option value="ua-v7-fractalOut">ğŸ­ åˆ†å½¢æ”¶æ•›</option>
            <option value="ua-v7-rainbowIn">ğŸŒˆ å½©è™¹ç»½æ”¾</option>
            <option value="ua-v7-rainbowOut">ğŸŒˆ å½©è™¹æ¶ˆæ•£</option>
            <option value="ua-v7-bounceIn">ğŸ­ å¼¹æ€§å¼¹è·³</option>
            <option value="ua-v7-bounceOut">ğŸ­ å¼¹è·³ç¦»åœº</option>
            <option value="ua-v7-rippleIn">ğŸŒŠ æ³¢çº¹æ‰©æ•£</option>
            <option value="ua-v7-rippleOut">ğŸŒŠ æ³¢çº¹æ”¶ç¼©</option>
          </optgroup>
        </select>

        <button class="play-btn" @click="triggerAnimation">æ’­æ”¾</button>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, computed, nextTick } from 'vue'

const selectedAnimation = ref('')
const animatedElement = ref<HTMLElement>()
const isAnimating = ref(false)

const animationClass = computed(() => {
  if (!selectedAnimation.value) return ''
  // æ ¹æ®åŠ¨ç”»ç‰ˆæœ¬æ·»åŠ å¯¹åº”çš„åŸºç¡€ç±»
  const version = selectedAnimation.value.match(/ua-v(\d+)/)?.[1]
  // V2-V6 ä½¿ç”¨ -animated åŸºç¡€ç±»ï¼ŒV7 ç›´æ¥ä½¿ç”¨åŠ¨ç”»ç±»
  if (version && version <= '6') {
    return `ua-v${version}-animated ${selectedAnimation.value}`.trim()
  } else if (version === '7') {
    // V7 åŠ¨ç”»ç›´æ¥ä½¿ç”¨ï¼Œä¸éœ€è¦åŸºç¡€ç±»
    return selectedAnimation.value
  }
  return selectedAnimation.value
})

const currentAnimationName = computed(() => {
  if (!selectedAnimation.value) return 'è¯·é€‰æ‹©ä¸€ä¸ªåŠ¨ç”»'
  const select = document.querySelector('.animation-select') as HTMLSelectElement
  const option = select?.options[select.selectedIndex]
  return option?.text || selectedAnimation.value
})

const usageExample = computed(() => {
  if (!selectedAnimation.value) return 'class="ua-animated [åŠ¨ç”»å]"'
  return `class="${animationClass.value}"`
})

const triggerAnimation = async () => {
  if (!selectedAnimation.value) return

  // ç§»é™¤åŠ¨ç”»ç±»
  isAnimating.value = false

  // å¼ºåˆ¶é‡ç»˜
  await nextTick()
  animatedElement.value?.offsetWidth

  // é‡æ–°æ·»åŠ åŠ¨ç”»
  isAnimating.value = true
}
</script>

<style lang="scss">
/* ä½¿ç”¨åŸå§‹å®Œæ•´åŠ¨ç”»åº“ - åŒ…å«æ‰€æœ‰ç‰ˆæœ¬çš„å®Œæ•´ @keyframes å®šä¹‰ */
@import './animation.css';
</style>

<style lang="scss" scoped>
.home-container {
  width: 100vw;
  height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.animation-demo {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 20px;
  padding: 40px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  max-width: 800px;
  width: 100%;
  text-align: center;
}

h1 {
  color: #333;
  margin-bottom: 30px;
  font-size: 2rem;
}

.controls {
  display: flex;
  gap: 15px;
  justify-content: center;
  margin-bottom: 40px;
  flex-wrap: wrap;
}

.animation-select {
  padding: 12px 20px;
  font-size: 16px;
  border: 2px solid #667eea;
  border-radius: 10px;
  background: white;
  color: #333;
  cursor: pointer;
  min-width: 300px;
  transition: all 0.3s ease;

  &:hover {
    border-color: #764ba2;
  }

  &:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
  }

  optgroup {
    font-weight: bold;
    background: #f0f0f0;
  }

  option {
    padding: 10px;
  }
}

.play-btn {
  padding: 12px 30px;
  font-size: 16px;
  font-weight: 600;
  color: white;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
  }

  &:active {
    transform: translateY(0);
  }
}

.preview-area {
  height: 300px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 30px;
}

.animated-box {
  width: 200px;
  height: 200px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 18px;
  font-weight: 600;
  box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
  transition: all 0.3s ease;
}

.box-content {
  text-align: center;
  padding: 20px;
}

.info {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 10px;
  text-align: left;

  p {
    margin: 10px 0;
    color: #555;
    font-size: 14px;
  }

  strong {
    color: #667eea;
  }
}

.code {
  background: #2d2d2d;
  color: #f8f8f2;
  padding: 4px 8px;
  border-radius: 4px;
  font-family: 'Courier New', monospace;
  font-size: 13px;
}
</style>
